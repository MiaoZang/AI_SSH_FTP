import{d as w,k as m,a as y,b as o,e as t,w as l,R as b,g as n,f as V,h as x,v as k,i as z,E as r,_ as B}from"./index-x4DXS2Vx.js";import{u as E}from"./authStore-DMI7moDq.js";import"./auth-LOQg4seF.js";import"./index-j8vyhiJM.js";import"./index-B9ygI19o.js";const L={class:"login-page"},N={class:"login-container"},S={class:"login-header"},K={class:"logo"},M=w({__name:"Login",setup(R){const p=V(),_=E(),s=m(""),a=m(!1),i=async()=>{if(!s.value.trim()){r.warning("请输入用户名");return}if(s.value.length<2){r.warning("用户名至少 2 个字符");return}a.value=!0;try{await _.login(s.value.trim()),r.success("登录成功"),p.push({name:"Dashboard"})}catch(u){r.error(u.response?.data?.message||"登录失败")}finally{a.value=!1}};return(u,e)=>{const c=n("CreditCard"),f=n("el-icon"),g=n("el-input"),d=n("el-form-item"),v=n("el-button"),h=n("el-form");return x(),y("div",L,[o("div",N,[o("div",S,[o("div",K,[t(f,{size:"48"},{default:l(()=>[t(c)]),_:1})]),e[1]||(e[1]=o("h1",null,"Virtual Card",-1)),e[2]||(e[2]=o("p",null,"虚拟卡管理系统",-1))]),t(h,{onSubmit:b(i,["prevent"]),class:"login-form"},{default:l(()=>[t(d,null,{default:l(()=>[t(g,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=C=>s.value=C),placeholder:"请输入用户名",size:"large","prefix-icon":"User",disabled:a.value,onKeyup:k(i,["enter"])},null,8,["modelValue","disabled"])]),_:1}),t(d,null,{default:l(()=>[t(v,{type:"primary",size:"large",loading:a.value,onClick:i,style:{width:"100%"}},{default:l(()=>[...e[3]||(e[3]=[z(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1}),e[4]||(e[4]=o("div",{class:"login-footer"},[o("p",null,"内部使用系统，无需密码")],-1))])])}}}),j=B(M,[["__scopeId","data-v-d3a71c90"]]);export{j as default};

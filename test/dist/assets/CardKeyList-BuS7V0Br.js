import{A as Ee,k as v,c as ye,d as De,s as Fe,o as Ye,a as V,b as c,e as a,w as l,g as p,l as Ie,h as g,i as u,u as m,p as G,v as ve,F as fe,r as me,j as O,t as y,m as ge,E as o,q as E,_ as Le}from"./index-x4DXS2Vx.js";import{c as N}from"./cardKey-QBtV7CK8.js";import"./index-j8vyhiJM.js";import"./index-B9ygI19o.js";const Oe=Ee("cardKey",()=>{const B=v([]),s=v(null),A=v("lazy"),i=v(!1),_=v(null),S=v({page:1,pageSize:20,total:0,totalPages:0}),b=v({status:"",search:"",faceValueMin:void 0,faceValueMax:void 0,createdBy:""}),T=v([]),U=ye(()=>B.value.filter(r=>r.status==="unused").length),F=ye(()=>B.value.filter(r=>r.status==="activated").length);async function Y(){try{const r=await N.getMode();A.value=r.mode}catch(r){console.error("获取模式失败:",r)}}async function w(r){i.value=!0;try{await N.setMode(r),A.value=r}catch(d){throw _.value=d.message||"设置模式失败",d}finally{i.value=!1}}async function P(r=1){i.value=!0,_.value=null;try{const d=await N.getCardKeys({page:r,pageSize:S.value.pageSize,status:b.value.status||void 0,search:b.value.search||void 0,createdBy:b.value.createdBy||void 0});B.value=d.cardKeys,S.value=d.pagination;const x=new Map;d.cardKeys.forEach(K=>{K.createdBy&&!x.has(K.createdBy.id)&&x.set(K.createdBy.id,{id:K.createdBy.id,displayName:K.createdBy.displayName})}),x.forEach(K=>{T.value.find(q=>q.id===K.id)||T.value.push(K)})}catch(d){_.value=d.message||"获取卡密列表失败"}finally{i.value=!1}}async function j(r,d){i.value=!0,_.value=null;try{const x=await N.createCardKeys({count:r,face_value:d});return await P(1),x}catch(x){throw _.value=x.message||"生成卡密失败",x}finally{i.value=!1}}async function h(r){i.value=!0;try{const d=await N.activateCardKey(r),x=B.value.findIndex(K=>K.id===r);return x!==-1&&(B.value[x]=d.cardKey),d}catch(d){throw _.value=d.message||"激活卡密失败",d}finally{i.value=!1}}async function M(r){i.value=!0;try{await N.cancelCardKey(r);const d=B.value.find(x=>x.id===r);d&&(d.status="cancelled")}catch(d){throw _.value=d.message||"注销卡密失败",d}finally{i.value=!1}}async function $(r){i.value=!0;try{const d=await N.batchActivateCardKeys(r);return await P(S.value.page),d}catch(d){throw _.value=d.message||"批量激活失败",d}finally{i.value=!1}}async function R(r){i.value=!0;try{const d=await N.batchCancelCardKeys(r);return await P(S.value.page),d}catch(d){throw _.value=d.message||"批量注销失败",d}finally{i.value=!1}}return{cardKeys:B,currentCardKey:s,mode:A,loading:i,error:_,pagination:S,filters:b,creators:T,unusedCount:U,activatedCount:F,fetchMode:Y,setMode:w,fetchCardKeys:P,createCardKeys:j,activateCardKey:h,cancelCardKey:M,batchActivate:$,batchCancel:R}}),Re={class:"card-key-page"},Je={class:"page-header"},Ge={class:"mode-switch card"},qe={class:"filter-bar card"},He={key:0,class:"batch-actions"},Qe={class:"selected-count"},We={class:"table-container card"},Xe={class:"key-code"},Ze={key:0},ea={key:1},aa={key:2,class:"text-muted"},ta={key:0},la={key:1,class:"text-muted"},na={key:0},sa={key:1,class:"text-muted"},oa={class:"pagination-bar"},da={class:"filter-bar card"},ua={key:0,class:"batch-actions"},ia={class:"selected-count"},ra={class:"table-container card"},ca={class:"key-code"},pa={key:0},ya={key:1,class:"text-muted"},va={class:"pagination-bar"},fa={class:"form-tip"},ma={class:"generated-keys-header"},ga={class:"generated-keys-list"},ha={class:"face-value"},Ca=De({__name:"CardKeyList",setup(B){const s=Oe(),A=v("cardKeys"),i=v([]),_=v([]),S=v(!1),b=v({count:1,faceValue:0}),T=v(!1),U=v([]),F=v([]),Y=v(!1),w=v({page:1,pageSize:20,total:0,totalPages:0}),P=v(""),j=v(""),h=v([]),M=v([]),$=async()=>{Y.value=!0;try{const n=new URLSearchParams({page:String(w.value.page),pageSize:String(w.value.pageSize),poolType:"self_created"});P.value&&n.append("search",P.value),j.value&&n.append("status",j.value);const k=await(await fetch(`/api/v1/card-pool?${n}`)).json();k.code===200&&(F.value=k.data.cards,w.value={...w.value,...k.data.pagination})}catch(n){o.error("获取自开卡池失败: "+n.message)}finally{Y.value=!1}},R=()=>{w.value.page=1,$()},r=()=>{P.value="",j.value="",w.value.page=1,$()},d=n=>{w.value.page=n,$()},x=n=>{w.value.pageSize=n,w.value.page=1,$()},K=n=>{h.value=n.map(e=>e.id),M.value=n},q=async()=>{if(M.value.length===0){o.warning("请选择要复制的卡片");return}const n=M.value.map(e=>{const k=e.expYear?.slice(-2)||"??";return`${e.pan}|${e.expMonth}/${k}|${e.cvv}`}).join(`
`);try{await navigator.clipboard.writeText(n),o.success(`已复制 ${M.value.length} 条卡片信息`)}catch{const e=document.createElement("textarea");e.value=n,document.body.appendChild(e),e.select();try{document.execCommand("copy"),o.success(`已复制 ${M.value.length} 条卡片信息`)}catch{o.error("复制失败")}document.body.removeChild(e)}},he=async()=>{if(h.value.length===0){o.warning("请选择要注销的卡片");return}try{await E.confirm(`确定要注销选中的 ${h.value.length} 张卡片吗？
注销后将同时销毁卡台上的卡片。`,"批量注销",{type:"error"});const e=await(await fetch("/api/v1/card-pool/batch-cancel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:h.value})})).json();e.code===200?(o.success(`成功注销 ${e.data.count} 张卡片`),h.value=[],M.value=[],$()):o.error(e.message||"注销失败")}catch{}},Ce=async()=>{if(h.value.length===0){o.warning("请选择要重置的卡片");return}try{await E.confirm(`确定要重置选中的 ${h.value.length} 张卡片的状态吗？
将解绑关联的卡密，卡密恢复为未使用状态。`,"重置状态",{type:"warning"});const e=await(await fetch("/api/v1/card-pool/reset-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:h.value})})).json();e.code===200?(o.success(`成功重置 ${e.data.count} 张卡片的状态`),h.value=[],M.value=[],$()):o.error(e.message||"重置失败")}catch{}},_e=async()=>{if(h.value.length===0){o.warning("请选择要校验的卡片");return}try{await E.confirm(`确定要校验选中的 ${h.value.length} 张卡片的状态吗？
将通过油猴查询卡台，删除已注销或已过期的卡片。`,"校验状态",{type:"info"});const e=await(await fetch("/api/v1/card-pool/check-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:h.value})})).json();e.code===200?(o.success(e.message||"校验指令已发送，请等待油猴处理"),h.value=[],M.value=[],setTimeout(()=>$(),5e3)):o.error(e.message||"校验失败")}catch{}};Fe(A,n=>{n==="poolCards"&&F.value.length===0&&$()}),Ye(async()=>{await s.fetchMode(),await s.fetchCardKeys()});const we=async n=>{try{await s.setMode(n),o.success(`已切换为"${n==="sync"?"同步生成":"激活时生成"}"模式`)}catch{o.error("切换模式失败")}},be=async()=>{if(b.value.count<1||b.value.count>100){o.warning("生成数量应为 1-100");return}if(b.value.faceValue<0){o.warning("面值不能为负数");return}try{const n=await s.createCardKeys(b.value.count,b.value.faceValue);o.success(`成功生成 ${n.count} 个卡密`),S.value=!1,n.cardKeys&&n.cardKeys.length>0&&(U.value=n.cardKeys.map(e=>({keyCode:e.keyCode,faceValue:e.faceValue})),T.value=!0)}catch{o.error("生成失败")}},xe=async n=>{try{await E.confirm("确定要激活此卡密吗？","激活确认"),await s.activateCardKey(n),o.success("激活成功")}catch{}},Ve=async n=>{try{await E.confirm("确定要注销此卡密吗？注销后无法恢复。","注销确认",{type:"error"}),await s.cancelCardKey(n),o.success("注销成功")}catch{}},ke=async()=>{if(i.value.length===0){o.warning("请选择要激活的卡密");return}try{await E.confirm(`确定要激活选中的 ${i.value.length} 个卡密吗？`,"批量激活");const n=await s.batchActivate(i.value);o.success(`成功激活 ${n.successCount} 个，失败 ${n.failCount} 个`),i.value=[]}catch{}},Ke=async()=>{if(i.value.length===0){o.warning("请选择要注销的卡密");return}try{await E.confirm(`确定要注销选中的 ${i.value.length} 个卡密吗？`,"批量注销",{type:"error"}),await s.batchCancel(i.value),o.success("批量注销成功"),i.value=[]}catch{}},Q=()=>{s.fetchCardKeys(1)},W=n=>{s.fetchCardKeys(n)},ze=()=>{s.filters.search="",s.filters.status="",s.filters.createdBy="",s.filters.faceValueMin=void 0,s.filters.faceValueMax=void 0,s.fetchCardKeys(1)},Se=n=>{i.value=n.map(e=>e.id),_.value=n},$e=async()=>{if(_.value.length===0){o.warning("请选择要复制的卡密");return}const n=_.value.map(e=>e.keyCode).join(`
`);try{await navigator.clipboard.writeText(n),o.success(`已复制 ${_.value.length} 个卡密`)}catch{const e=document.createElement("textarea");e.value=n,document.body.appendChild(e),e.select();try{document.execCommand("copy"),o.success(`已复制 ${_.value.length} 个卡密`)}catch{o.error("复制失败")}document.body.removeChild(e)}},Pe=async()=>{const n=U.value.map(e=>e.keyCode).join(`
`);try{await navigator.clipboard.writeText(n),o.success(`已复制 ${U.value.length} 个卡密`)}catch{const e=document.createElement("textarea");e.value=n,document.body.appendChild(e),e.select();try{document.execCommand("copy"),o.success(`已复制 ${U.value.length} 个卡密`)}catch{o.error("复制失败")}document.body.removeChild(e)}},X=n=>({unused:"info",activated:"success",cancelled:"danger",used:"warning"})[n]||"",Z=n=>({unused:"未使用",activated:"已激活",cancelled:"已注销",used:"已分配"})[n]||n,ee=n=>new Intl.NumberFormat("zh-CN",{style:"currency",currency:"CNY"}).format(n),ae=n=>new Date(n).toLocaleString("zh-CN"),Me=async n=>{try{await navigator.clipboard.writeText(n),o.success("卡密码已复制")}catch{const k=document.createElement("textarea");k.value=n,document.body.appendChild(k),k.select();try{document.execCommand("copy"),o.success("卡密码已复制")}catch{o.error("复制失败，请手动复制")}document.body.removeChild(k)}},Be=async n=>{const e=n.expYear?.slice(-2)||"??",k=`${n.pan}|${n.expMonth}/${e}|${n.cvv}`;try{await navigator.clipboard.writeText(k),o.success("卡片信息已复制")}catch{o.error("复制失败")}};return(n,e)=>{const k=p("Plus"),z=p("el-icon"),f=p("el-button"),te=p("el-radio"),Te=p("el-radio-group"),le=p("InfoFilled"),Ue=p("el-tooltip"),ne=p("Search"),se=p("el-input"),D=p("el-option"),H=p("el-select"),J=p("el-input-number"),I=p("CopyDocument"),C=p("el-table-column"),oe=p("el-tag"),de=p("el-table"),ue=p("el-pagination"),ie=p("el-tab-pane"),Ne=p("Refresh"),Ae=p("el-tabs"),re=p("el-form-item"),je=p("el-form"),ce=p("el-dialog"),pe=Ie("loading");return g(),V("div",Re,[c("div",Je,[e[20]||(e[20]=c("h1",{class:"page-title"},"卡密管理",-1)),a(f,{type:"primary",onClick:e[0]||(e[0]=t=>S.value=!0)},{default:l(()=>[a(z,null,{default:l(()=>[a(k)]),_:1}),e[19]||(e[19]=u(" 批量生成 ",-1))]),_:1})]),a(Ae,{modelValue:A.value,"onUpdate:modelValue":e[12]||(e[12]=t=>A.value=t),class:"main-tabs"},{default:l(()=>[a(ie,{label:"卡密列表",name:"cardKeys"},{default:l(()=>[c("div",Ge,[e[23]||(e[23]=c("span",{class:"mode-label"},"生成模式：",-1)),a(Te,{"model-value":m(s).mode,onChange:we},{default:l(()=>[a(te,{value:"sync"},{default:l(()=>[...e[21]||(e[21]=[u("同步生成虚拟卡",-1)])]),_:1}),a(te,{value:"lazy"},{default:l(()=>[...e[22]||(e[22]=[u("激活时生成虚拟卡",-1)])]),_:1})]),_:1},8,["model-value"]),a(Ue,{content:"同步模式：生成卡密时自动创建虚拟卡；延迟模式：激活卡密时才创建虚拟卡"},{default:l(()=>[a(z,{class:"info-icon"},{default:l(()=>[a(le)]),_:1})]),_:1})]),c("div",qe,[a(se,{modelValue:m(s).filters.search,"onUpdate:modelValue":e[1]||(e[1]=t=>m(s).filters.search=t),placeholder:"搜索卡密或已绑定的卡号",clearable:"",style:{width:"250px"},onKeyup:ve(Q,["enter"])},{prefix:l(()=>[a(z,null,{default:l(()=>[a(ne)]),_:1})]),_:1},8,["modelValue"]),a(H,{modelValue:m(s).filters.status,"onUpdate:modelValue":e[2]||(e[2]=t=>m(s).filters.status=t),placeholder:"状态",clearable:"",style:{width:"120px"}},{default:l(()=>[a(D,{label:"未使用",value:"unused"}),a(D,{label:"已激活",value:"activated"}),a(D,{label:"已注销",value:"cancelled"})]),_:1},8,["modelValue"]),a(H,{modelValue:m(s).filters.createdBy,"onUpdate:modelValue":e[3]||(e[3]=t=>m(s).filters.createdBy=t),placeholder:"创建者",clearable:"",style:{width:"130px"}},{default:l(()=>[(g(!0),V(fe,null,me(m(s).creators,t=>(g(),O(D,{key:t.id,label:t.displayName,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e[29]||(e[29]=c("span",{class:"filter-label"},"面值：",-1)),a(J,{modelValue:m(s).filters.faceValueMin,"onUpdate:modelValue":e[4]||(e[4]=t=>m(s).filters.faceValueMin=t),min:0,placeholder:"最小","controls-position":"right",style:{width:"100px"}},null,8,["modelValue"]),e[30]||(e[30]=c("span",{style:{margin:"0 4px",color:"var(--text-muted)"}},"-",-1)),a(J,{modelValue:m(s).filters.faceValueMax,"onUpdate:modelValue":e[5]||(e[5]=t=>m(s).filters.faceValueMax=t),min:0,placeholder:"最大","controls-position":"right",style:{width:"100px"}},null,8,["modelValue"]),a(f,{type:"primary",onClick:Q},{default:l(()=>[...e[24]||(e[24]=[u("搜索",-1)])]),_:1}),a(f,{onClick:ze},{default:l(()=>[...e[25]||(e[25]=[u("重置",-1)])]),_:1}),i.value.length>0?(g(),V("div",He,[c("span",Qe,"已选 "+y(i.value.length)+" 项",1),a(f,{size:"small",onClick:$e},{default:l(()=>[a(z,null,{default:l(()=>[a(I)]),_:1}),e[26]||(e[26]=u(" 批量复制 ",-1))]),_:1}),a(f,{size:"small",type:"success",onClick:ke},{default:l(()=>[...e[27]||(e[27]=[u("批量激活",-1)])]),_:1}),a(f,{size:"small",type:"danger",onClick:Ke},{default:l(()=>[...e[28]||(e[28]=[u("批量注销",-1)])]),_:1})])):G("",!0)]),c("div",We,[ge((g(),O(de,{data:m(s).cardKeys,onSelectionChange:Se,"row-key":"id",stripe:""},{default:l(()=>[a(C,{type:"selection",width:"50"}),a(C,{label:"卡密码","min-width":"200"},{default:l(({row:t})=>[c("div",Xe,[c("code",null,y(t.keyCode),1),a(f,{text:"",size:"small",onClick:L=>Me(t.keyCode)},{default:l(()=>[a(z,null,{default:l(()=>[a(I)]),_:1})]),_:1},8,["onClick"])])]),_:1}),a(C,{label:"面值",width:"100"},{default:l(({row:t})=>[u(y(ee(t.faceValue)),1)]),_:1}),a(C,{label:"状态",width:"100"},{default:l(({row:t})=>[a(oe,{type:X(t.status),size:"small"},{default:l(()=>[u(y(Z(t.status)),1)]),_:2},1032,["type"])]),_:1}),a(C,{label:"卡池卡号","min-width":"180"},{default:l(({row:t})=>[t.poolCard?(g(),V("span",Ze,y(t.poolCard.pan),1)):t.card?(g(),V("span",ea,y(t.card.cardNumber),1)):(g(),V("span",aa,"-"))]),_:1}),a(C,{label:"有效期",width:"90"},{default:l(({row:t})=>[t.poolCard?(g(),V("span",ta,y(t.poolCard.expMonth)+"/"+y(t.poolCard.expYear),1)):(g(),V("span",la,"-"))]),_:1}),a(C,{label:"CVV",width:"70"},{default:l(({row:t})=>[t.poolCard?(g(),V("span",na,y(t.poolCard.cvv),1)):(g(),V("span",sa,"-"))]),_:1}),a(C,{label:"创建者",width:"100"},{default:l(({row:t})=>[u(y(t.createdBy?.displayName||"-"),1)]),_:1}),a(C,{label:"创建时间",width:"170"},{default:l(({row:t})=>[u(y(ae(t.createdAt)),1)]),_:1}),a(C,{label:"操作",width:"150",fixed:"right"},{default:l(({row:t})=>[t.status==="unused"?(g(),O(f,{key:0,type:"success",size:"small",text:"",onClick:L=>xe(t.id)},{default:l(()=>[...e[31]||(e[31]=[u(" 激活 ",-1)])]),_:1},8,["onClick"])):G("",!0),t.status!=="cancelled"?(g(),O(f,{key:1,type:"danger",size:"small",text:"",onClick:L=>Ve(t.id)},{default:l(()=>[...e[32]||(e[32]=[u(" 注销 ",-1)])]),_:1},8,["onClick"])):G("",!0)]),_:1})]),_:1},8,["data"])),[[pe,m(s).loading]]),c("div",oa,[a(ue,{"current-page":m(s).pagination.page,"onUpdate:currentPage":e[6]||(e[6]=t=>m(s).pagination.page=t),"page-size":m(s).pagination.pageSize,"onUpdate:pageSize":e[7]||(e[7]=t=>m(s).pagination.pageSize=t),"page-sizes":[10,20,50,100],total:m(s).pagination.total,layout:"total, sizes, prev, pager, next",onSizeChange:W,onCurrentChange:W},null,8,["current-page","page-size","total"])])])]),_:1}),a(ie,{label:"自开卡池",name:"poolCards"},{default:l(()=>[c("div",da,[a(se,{modelValue:P.value,"onUpdate:modelValue":e[8]||(e[8]=t=>P.value=t),placeholder:"搜索卡号",clearable:"",style:{width:"250px"},onKeyup:ve(R,["enter"])},{prefix:l(()=>[a(z,null,{default:l(()=>[a(ne)]),_:1})]),_:1},8,["modelValue"]),a(H,{modelValue:j.value,"onUpdate:modelValue":e[9]||(e[9]=t=>j.value=t),placeholder:"状态",clearable:"",style:{width:"120px"}},{default:l(()=>[a(D,{label:"未使用",value:"unused"}),a(D,{label:"已分配",value:"used"})]),_:1},8,["modelValue"]),a(f,{type:"primary",onClick:R},{default:l(()=>[...e[33]||(e[33]=[u("搜索",-1)])]),_:1}),a(f,{onClick:r},{default:l(()=>[...e[34]||(e[34]=[u("重置",-1)])]),_:1}),a(f,{onClick:$},{default:l(()=>[a(z,null,{default:l(()=>[a(Ne)]),_:1}),e[35]||(e[35]=u(" 刷新 ",-1))]),_:1}),h.value.length>0?(g(),V("div",ua,[c("span",ia,"已选 "+y(h.value.length)+" 项",1),a(f,{size:"small",onClick:q},{default:l(()=>[a(z,null,{default:l(()=>[a(I)]),_:1}),e[36]||(e[36]=u(" 批量复制 ",-1))]),_:1}),a(f,{size:"small",type:"danger",onClick:he},{default:l(()=>[...e[37]||(e[37]=[u(" 批量注销 ",-1)])]),_:1}),a(f,{size:"small",type:"warning",onClick:Ce},{default:l(()=>[...e[38]||(e[38]=[u(" 重置状态 ",-1)])]),_:1}),a(f,{size:"small",type:"primary",onClick:_e},{default:l(()=>[...e[39]||(e[39]=[u(" 校验状态 ",-1)])]),_:1})])):G("",!0)]),c("div",ra,[ge((g(),O(de,{data:F.value,onSelectionChange:K,"row-key":"id",stripe:""},{default:l(()=>[a(C,{type:"selection",width:"50"}),a(C,{label:"卡号","min-width":"200"},{default:l(({row:t})=>[c("div",ca,[c("code",null,y(t.pan),1),a(f,{text:"",size:"small",onClick:L=>Be(t)},{default:l(()=>[a(z,null,{default:l(()=>[a(I)]),_:1})]),_:1},8,["onClick"])])]),_:1}),a(C,{label:"有效期",width:"100"},{default:l(({row:t})=>[u(y(t.expMonth)+"/"+y(t.expYear),1)]),_:1}),a(C,{label:"CVV",width:"80"},{default:l(({row:t})=>[u(y(t.cvv),1)]),_:1}),a(C,{label:"状态",width:"100"},{default:l(({row:t})=>[a(oe,{type:X(t.status),size:"small"},{default:l(()=>[u(y(Z(t.status)),1)]),_:2},1032,["type"])]),_:1}),a(C,{label:"绑定卡密","min-width":"180"},{default:l(({row:t})=>[t.cardKey?(g(),V("span",pa,y(t.cardKey.keyCode),1)):(g(),V("span",ya,"未绑定"))]),_:1}),a(C,{label:"创建时间",width:"170"},{default:l(({row:t})=>[u(y(t.cardCreatedAt?ae(t.cardCreatedAt):"-"),1)]),_:1})]),_:1},8,["data"])),[[pe,Y.value]]),c("div",va,[a(ue,{"current-page":w.value.page,"onUpdate:currentPage":e[10]||(e[10]=t=>w.value.page=t),"page-size":w.value.pageSize,"onUpdate:pageSize":e[11]||(e[11]=t=>w.value.pageSize=t),"page-sizes":[10,20,50,100],total:w.value.total,layout:"total, sizes, prev, pager, next",onSizeChange:x,onCurrentChange:d},null,8,["current-page","page-size","total"])])])]),_:1})]),_:1},8,["modelValue"]),a(ce,{modelValue:S.value,"onUpdate:modelValue":e[16]||(e[16]=t=>S.value=t),title:"批量生成卡密",width:"400px"},{footer:l(()=>[a(f,{onClick:e[15]||(e[15]=t=>S.value=!1)},{default:l(()=>[...e[40]||(e[40]=[u("取消",-1)])]),_:1}),a(f,{type:"primary",loading:m(s).loading,onClick:be},{default:l(()=>[...e[41]||(e[41]=[u(" 确认生成 ",-1)])]),_:1},8,["loading"])]),default:l(()=>[a(je,{model:b.value,"label-width":"80px"},{default:l(()=>[a(re,{label:"生成数量"},{default:l(()=>[a(J,{modelValue:b.value.count,"onUpdate:modelValue":e[13]||(e[13]=t=>b.value.count=t),min:1,max:100,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(re,{label:"面值"},{default:l(()=>[a(J,{modelValue:b.value.faceValue,"onUpdate:modelValue":e[14]||(e[14]=t=>b.value.faceValue=t),min:0,precision:2,step:50,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),c("p",fa,[a(z,null,{default:l(()=>[a(le)]),_:1}),u(" 当前模式："+y(m(s).mode==="sync"?"同步生成虚拟卡":"激活时生成虚拟卡"),1)])]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(ce,{modelValue:T.value,"onUpdate:modelValue":e[18]||(e[18]=t=>T.value=t),title:"生成成功",width:"500px"},{footer:l(()=>[a(f,{onClick:e[17]||(e[17]=t=>T.value=!1)},{default:l(()=>[...e[43]||(e[43]=[u("关闭",-1)])]),_:1})]),default:l(()=>[c("div",ma,[c("span",null,"共生成 "+y(U.value.length)+" 个卡密",1),a(f,{type:"primary",size:"small",onClick:Pe},{default:l(()=>[a(z,null,{default:l(()=>[a(I)]),_:1}),e[42]||(e[42]=u(" 复制全部 ",-1))]),_:1})]),c("div",ga,[(g(!0),V(fe,null,me(U.value,(t,L)=>(g(),V("div",{key:L,class:"generated-key-item"},[c("code",null,y(t.keyCode),1),c("span",ha,y(ee(t.faceValue)),1)]))),128))])]),_:1},8,["modelValue"])])}}}),Va=Le(Ca,[["__scopeId","data-v-edcb8750"]]);export{Va as default};

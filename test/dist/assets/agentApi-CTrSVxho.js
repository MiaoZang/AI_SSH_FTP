import{a as r}from"./index-B9ygI19o.js";import{E as a}from"./index-x4DXS2Vx.js";const s="/api/v1",o=r.create({baseURL:s,timeout:3e4});o.interceptors.request.use(e=>{const t=localStorage.getItem("agent_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));o.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("agent_token"),localStorage.removeItem("agent_info"),a.error("登录已过期，请重新登录"),window.location.href="/agent/login"),Promise.reject(e)));export{o as a};
